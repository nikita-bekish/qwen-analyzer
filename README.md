# üîç Qwen Local Data Analyzer

–õ–æ–∫–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º RAG (Retrieval-Augmented Generation) –∏ –º–æ–¥–µ–ª–∏ Qwen 2.5 Coder —á–µ—Ä–µ–∑ Ollama.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –±–µ–∑ –æ–±–ª–∞–∫–∞
- ‚úÖ RAG —Å–∏—Å—Ç–µ–º–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º–∏ embeddings
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ Streaming –æ—Ç–≤–µ—Ç—ã –æ—Ç LLM –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ê–Ω–∞–ª–∏–∑ JSON –ª–æ–≥–æ–≤ –æ—à–∏–±–æ–∫

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Node.js** + **TypeScript**
- **Ollama** —Å –º–æ–¥–µ–ª—è–º–∏:
  - `qwen2.5-coder:7b` - –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç–≤–µ—Ç–æ–≤
  - `nomic-embed-text` - –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è embeddings
- **RAG** - –ø–æ–∏—Å–∫ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. Node.js 18+
2. Ollama —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–æ
3. –ú–æ–¥–µ–ª–∏ Ollama:
   ```bash
   ollama pull qwen2.5-coder:7b
   ollama pull nomic-embed-text
   ```

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
   ```bash
   npm install
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä:
   ```bash
   npm start
   ```

## üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
–ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º–∞:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª `data/error-logs.json`
- –°–æ–∑–¥–∞–µ—Ç –≤–µ–∫—Ç–æ—Ä–Ω—ã–µ embeddings –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ `nomic-embed-text`
- –ò–Ω–¥–µ–∫—Å–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

### 2. RAG Pipeline
–ö–æ–≥–¥–∞ –≤—ã –∑–∞–¥–∞–µ—Ç–µ –≤–æ–ø—Ä–æ—Å:

```
–í–æ–ø—Ä–æ—Å ‚Üí Embedding ‚Üí –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ª–æ–≥–æ–≤ ‚Üí –ö–æ–Ω—Ç–µ–∫—Å—Ç ‚Üí Qwen ‚Üí –û—Ç–≤–µ—Ç
```

1. –°–æ–∑–¥–∞–µ—Ç—Å—è embedding –≤–∞—à–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
2. –í—ã—á–∏—Å–ª—è–µ—Ç—Å—è cosine similarity —Å embeddings –≤—Å–µ—Ö –ª–æ–≥–æ–≤
3. –í—ã–±–∏—Ä–∞—é—Ç—Å—è —Ç–æ–ø-8 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
4. –†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ª–æ–≥–∏ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ Qwen –∫–∞–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç
5. Qwen –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 3. –£–º–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
–°–∏—Å—Ç–µ–º–∞ –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤—Å–µ 20 –ª–æ–≥–æ–≤ –≤ –º–æ–¥–µ–ª—å, –∞:
- –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –≤—ã—á–∏—Å–ª—è–µ—Ç –æ–±—â—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –ù–∞—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–æ–ø—Ä–æ—Å–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–º–µ—Ä –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (~2-3K tokens)

### 4. –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ Embeddings ‚ö°
–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–ø—É—Å–∫–æ–≤:
- Embeddings —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `data/.cache/error-logs.embeddings.json`
- –•–µ—à —Ñ–∞–π–ª–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–µ—à–∞
- **–ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫**: ~30-60 —Å–µ–∫—É–Ω–¥ (—Å–æ–∑–¥–∞–Ω–∏–µ embeddings)
- **–ü–æ—Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø—É—Å–∫–∏**: ~1-2 —Å–µ–∫—É–Ω–¥—ã (–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫–µ—à–∞)
- –ï—Å–ª–∏ —Ñ–∞–π–ª –∏–∑–º–µ–Ω–∏–ª—Å—è - embeddings –ø–µ—Ä–µ—Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìä –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤

```
‚ùì –ö–∞–∫–∞—è –æ—à–∏–±–∫–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —á–∞—â–µ –≤—Å–µ–≥–æ?
‚ùì –ö–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –±–æ–ª—å—à–µ –≤—Å–µ–≥–æ –æ—à–∏–±–æ–∫?
‚ùì –°–∫–æ–ª—å–∫–æ –±—ã–ª–æ –æ—à–∏–±–æ–∫ DatabaseConnectionError?
‚ùì –ö–∞–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –µ—Å—Ç—å –≤ payment-service?
‚ùì –ï—Å—Ç—å –ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å –æ–¥–Ω–æ–≥–æ IP?
‚ùì –ö–∞–∫–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –¥–ª—è PaymentGatewayTimeout?
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
qwen-analyzer/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ ollama.ts       # –ö–ª–∏–µ–Ω—Ç Ollama (chat + embeddings)
‚îÇ   ‚îú‚îÄ‚îÄ rag.ts          # RAG —Å–∏—Å—Ç–µ–º–∞ —Å –≤–µ–∫—Ç–æ—Ä–Ω—ã–º –ø–æ–∏—Å–∫–æ–º
‚îÇ   ‚îú‚îÄ‚îÄ cli.ts          # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îÇ   ‚îî‚îÄ‚îÄ index.ts        # Entry point
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ error-logs.json # –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö (–ª–æ–≥–∏ –æ—à–∏–±–æ–∫)
‚îî‚îÄ‚îÄ package.json
```

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### OllamaClient (`src/ollama.ts`)
- `createEmbedding()` - —Å–æ–∑–¥–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–Ω—ã—Ö embeddings
- `chat()` - streaming –æ–±—â–µ–Ω–∏–µ —Å Qwen
- `checkModels()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π

### RAGSystem (`src/rag.ts`)
- `loadAndIndexLogs()` - –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- `findRelevantLogs()` - –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ cosine similarity
- `askQuestion()` - –ø–æ–ª–Ω—ã–π RAG pipeline
- `getStatistics()` - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –¥–∞–Ω–Ω—ã–º

### CLI (`src/cli.ts`)
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º –≤–æ–ø—Ä–æ—Å-–æ—Ç–≤–µ—Ç
- Streaming –≤—ã–≤–æ–¥ –æ—Ç–≤–µ—Ç–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–µ–π

## üé• –î–µ–º–æ –¥–ª—è –≤–∏–¥–µ–æ

1. **–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã** - –ø–æ–∫–∞–∑–∞—Ç—å –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é –ª–æ–≥–æ–≤
2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ø–æ–∫–∞–∑–∞—Ç—å –æ–±—â—É—é –∫–∞—Ä—Ç–∏–Ω—É –¥–∞–Ω–Ω—ã—Ö
3. **–ü—Ä–æ—Å—Ç–æ–π –≤–æ–ø—Ä–æ—Å** - "–ö–∞–∫–∞—è –æ—à–∏–±–∫–∞ —á–∞—â–µ –≤—Å–µ–≥–æ?"
4. **–°–ª–æ–∂–Ω—ã–π –≤–æ–ø—Ä–æ—Å** - "–ï—Å—Ç—å –ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –æ–¥–Ω–∏–º IP?"
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - "–ö–∞–∫–æ–π —Å–µ—Ä–≤–∏—Å –Ω—É–∂–Ω–æ –ø–æ—á–∏–Ω–∏—Ç—å –≤ –ø–µ—Ä–≤—É—é –æ—á–µ—Ä–µ–¥—å?"
6. **Streaming** - –ø–æ–∫–∞–∑–∞—Ç—å –∫–∞–∫ –æ—Ç–≤–µ—Ç –ø–æ—è–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üìù –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ:
1. –ó–∞–º–µ–Ω–∏—Ç–µ `data/error-logs.json` –Ω–∞ —Å–≤–æ–π —Ñ–∞–π–ª
2. –§–æ—Ä–º–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º JSON –æ–±—ä–µ–∫—Ç–æ–≤
3. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ `logToText()` –≤ `rag.ts` –ø–æ–¥ –≤–∞—à—É —Å—Ç—Ä—É–∫—Ç—É—Ä—É

## ü§ù AI Advent Challenge - –î–µ–Ω—å 29

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è AI Advent Challenge –∫–∞–∫ –ø—Ä–∏–º–µ—Ä –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º:
- –õ–æ–∫–∞–ª—å–Ω—ã—Ö LLM (Ollama + Qwen)
- RAG –¥–ª—è –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- –í–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –¥–ª—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
- 100% –æ—Ñ–ª–∞–π–Ω —Ä–∞–±–æ—Ç—ã
